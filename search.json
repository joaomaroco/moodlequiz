[{"path":"http://emitanaka.org/moodlequiz/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Emi Tanaka. Author, maintainer. Mitchell O'Hara-Wild. Author.","code":""},{"path":"http://emitanaka.org/moodlequiz/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Tanaka E, O'Hara-Wild M (2025). moodlequiz: R Markdown format Moodle XML cloze quizzes. R package version 0.1.0.9001, http://emitanaka.org/moodlequiz/, https://github.com/emitanaka/moodlequiz.","code":"@Manual{,   title = {moodlequiz: R Markdown format for Moodle XML cloze quizzes},   author = {Emi Tanaka and Mitchell O'Hara-Wild},   year = {2025},   note = {R package version 0.1.0.9001,     http://emitanaka.org/moodlequiz/},   url = {https://github.com/emitanaka/moodlequiz}, }"},{"path":"http://emitanaka.org/moodlequiz/index.html","id":"moodlequiz","dir":"","previous_headings":"","what":"R Markdown format for Moodle XML cloze quizzes","title":"R Markdown format for Moodle XML cloze quizzes","text":"moodlequiz R package allows creation Moodle quiz questions using literate programming R Markdown. makes easy quickly create quiz can randomly replicated new datasets, questions, options answers.","code":""},{"path":"http://emitanaka.org/moodlequiz/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"R Markdown format for Moodle XML cloze quizzes","text":"can install development version moodlequiz like :","code":"remotes::install_github(\"numbats/moodlequiz\")"},{"path":"http://emitanaka.org/moodlequiz/index.html","id":"usage","dir":"","previous_headings":"","what":"Usage","title":"R Markdown format for Moodle XML cloze quizzes","text":"moodlequiz document produces Moodle XML file suitable importing quiz questions Moodle question bank. Questions can organized categories use Moodle’s random question functionality. entire quiz consisting multiple questions can written single R Markdown document.","code":""},{"path":"http://emitanaka.org/moodlequiz/index.html","id":"front-matter","dir":"","previous_headings":"Usage","what":"Front matter","title":"R Markdown format for Moodle XML cloze quizzes","text":"front matter allows describe number random replications, general category questions. example: case questions imported ‘penguins’ category, 1 replicate question (default). possible use randomization R produce many different replicates question (shown quiz randomization vignette).","code":"--- title: Learning with penguins output:    moodlequiz::moodlequiz:     replicates: 1 moodlequiz:   category: penguins ---"},{"path":"http://emitanaka.org/moodlequiz/index.html","id":"body","dir":"","previous_headings":"Usage","what":"Body","title":"R Markdown format for Moodle XML cloze quizzes","text":"R Markdown document’s body used create quiz questions full markdown support. typical markdown output including figures, equations, tables cross-references (excepting interactive outputs #31) imported part Moodle quiz questions. literate programming user, writing quiz questions full markdown support wonderful experience compared usual quiz creation workflow Moodle.","code":""},{"path":"http://emitanaka.org/moodlequiz/index.html","id":"writing-questions","dir":"","previous_headings":"Usage > Body","what":"Writing questions","title":"R Markdown format for Moodle XML cloze quizzes","text":"Headers used separate quiz questions organize subcategories. # H1: Sub-category Questions within header organised together sub-category. useful quiz contains several thematically similar questions, want randomize specific question group questions. ## H2: Quiz questions Quiz questions settings specified within H2 headers. example: example quiz consists single sub-category (basics) contains three quiz ‘questions’ different types:","code":"# Basics  ## Introduction  ...   ## Plotting weight  ...  ## Telling the story {type=essay}  ..."},{"path":"http://emitanaka.org/moodlequiz/index.html","id":"description-questions","dir":"","previous_headings":"Usage > Body > Writing questions","what":"Description questions","title":"R Markdown format for Moodle XML cloze quizzes","text":"‘description’ question Moodle doesn’t contain assessment activities. useful describe activity, give background information dataset learning objectives.  example, description question used provide background context Palmer Archipelago penguins (along lovely illustration preview dataset). image table bundled XML imported part Moodle quiz question.","code":"## Introduction  ```{r setup, include = FALSE} library(moodlequiz) knitr::opts_chunk$set(echo = FALSE) ```  **Meet the penguins!**  ![The Palmer Archipelago penguins. Artwork by @allison_horst.](lter_penguins.png)  > The `palmerpenguins` data contains size measurements for three penguin species observed on three islands in the Palmer Archipelago, Antarctica.  ```{r data, echo = TRUE} library(palmerpenguins) penguins ```"},{"path":"http://emitanaka.org/moodlequiz/index.html","id":"cloze-questions","dir":"","previous_headings":"Usage > Body","what":"Cloze questions","title":"R Markdown format for Moodle XML cloze quizzes","text":"cloze style questions embed many questions within question text (https://docs.moodle.org/405/en/Embedded_Answers_(Cloze)_question_type). four types cloze questions: cloze_shortanswer(): Creates short-answer question student provides text response. cloze_singlechoice(): Generates single-choice question students select one correct answer list. cloze_multichoice(): Creates multiple-choice question students can select one correct answers. cloze_numerical(): Generates numerical question students input numeric response optional tolerance. single multiple choice cloze questions support various options change appearance shuffling behaviour. also cloze() function, automatically chooses appropriate question type based class input: Numerical: cloze(42) Short answer: cloze(\"Australia\") Single choice: cloze(\"rep_len\", c(\"rep\", \"rep.int\", \"rep_len\", \"replicate\")) Multiple choice: cloze(c(\"\", \"B\", \"C\"), LETTERS) functions used inline R code, example: `r cloze_singlechoice(choices(c(\"Adelie\", \"Chinstrap\", \"Gentoo\"), \"Chinstrap\"))`⁠","code":"## Plotting weight  **Which penguins are heaviest?**  A summary of the penguins dataset is shown below.  ```{r} summary(penguins) ```  The average weight of a penguin is `r cloze(mean(penguins$body_mass_g, na.rm = TRUE), tolerance = 1)`, which is slightly `r cloze(\"more\", c(\"more\", \"less\"))` than the median weight of `r cloze(median(penguins$body_mass_g, na.rm = TRUE), tolerance = 1)`.  Complete the code to produce the graphic shown in figure \\@ref(fig:boxplot).  ```r library(ggplot2) penguins |>    ggplot(aes(x = `r cloze(\"body_mass_g\", colnames(penguins))`, y = `r cloze(\"species\", colnames(penguins))`, fill = `r cloze(\"species\", colnames(penguins))`)) +   `r cloze(\"geom_boxplot\")`() +   scale_fill_manual(values = c(\"darkorange\",\"darkorchid\",\"cyan4\")) +    theme_minimal() ```  ```{r boxplot, fig.cap=\"Boxplots of penguin weight by species\"} library(ggplot2) penguins |>    ggplot(aes(x = body_mass_g, y = species, fill = species)) +   geom_boxplot() +   scale_fill_manual(values = c(\"darkorange\",\"darkorchid\",\"cyan4\")) +    theme_minimal() ```  Modify the code to investigate differences in `species` weight by `sex` that produces figure \\@ref(fig:boxplot-sex).  ```r library(ggplot2) penguins |>    ggplot(aes(x = `r cloze(\"body_mass_g\", colnames(penguins))`, y = `r cloze(\"sex\", colnames(penguins))`, fill = `r cloze(\"species\", colnames(penguins))`)) +   `r cloze(\"geom_boxplot\")`() +   scale_fill_manual(values = c(\"darkorange\",\"darkorchid\",\"cyan4\")) +    theme_minimal() ```  ```{r boxplot-sex, fig.cap=\"Boxplots of penguin weight by species and sex\"} penguins |>    ggplot(aes(x = body_mass_g, y = sex, fill = species)) +   geom_boxplot() +   scale_fill_manual(values = c(\"darkorange\",\"darkorchid\",\"cyan4\")) +    theme_minimal() ```  Male penguins `r cloze(\"tend to\", c(\"almost always\", \"tend to\"))` weigh `r cloze(\"more\", c(\"more\", \"less\"))` than female penguins. Within each species, male penguins `r cloze(\"almost always\", c(\"almost always\", \"tend to\"))` weigh `r cloze(\"more\", c(\"more\", \"less\"))` than female penguins."},{"path":"http://emitanaka.org/moodlequiz/index.html","id":"other-questions","dir":"","previous_headings":"Usage > Body","what":"Other questions","title":"R Markdown format for Moodle XML cloze quizzes","text":"types questions consist single answer field question text. can specify type questions (even defined Moodle extension packages) ## Question {type = <TYPE>}. Question types included standard installations Moodle include: multichoice truefalse shortanswer matching (yet supported) essay numerical  penguins example, can see question type set essay. question types often many question-specific options outlined Moodle XML format guide. Question specific options specified question headers, example enabling shuffleanswers multiple choice questions ## Multiple choice {type=multichoice shuffleanswers=1}. Many question types require answers specified <answer fraction=\"...\">...<\/answer> sections. specify answers question moodlequiz, use answers div like :","code":"## Telling the story {type=essay}  **Tell the story**  Write a short paragraph about how a penguin's weight relates to their species and sex. ## Multiple choice {type=multichoice shuffleanswers=1}  Which of the following generates random numbers from a Normal distribution  ::: {.answer fraction=\"100\"} ```{r} rnorm(10) ``` :::  ::: {.answer fraction=\"0\"} ```{r} runif(10) ``` :::  ::: {.answer fraction=\"0\"} ```{r} rnorm(10)^2 ``` :::"},{"path":[]},{"path":"http://emitanaka.org/moodlequiz/index.html","id":"create-the-xml-quiz","dir":"","previous_headings":"Importing questions into Moodle","what":"Create the XML quiz","title":"R Markdown format for Moodle XML cloze quizzes","text":"Start rendering quiz obtain Moodle XML file quiz. can try Palmer penguins quiz described , found : https://raw.githubusercontent.com/numbats/moodlequiz/refs/heads/main/man/examples/penguins.Rmd rendered, find corresponding XML file folder. look like : https://raw.githubusercontent.com/numbats/moodlequiz/refs/heads/main/man/examples/penguins.xml","code":""},{"path":"http://emitanaka.org/moodlequiz/index.html","id":"import-quiz-questions","dir":"","previous_headings":"Importing questions into Moodle","what":"Import quiz questions","title":"R Markdown format for Moodle XML cloze quizzes","text":"import quiz Moodle, go Moodle course’s question bank. navigation may vary among institutions, struggle find URL pattern : https://<DOMAIN>/question/edit.php?courseid=<COURSE ID> (<COURSE_ID> number found URLs course).  Import questions selecting “Import” drop-.  import form: Select “Moodle XML format” file format Select “Get category file” “General” section Import XML file file box Click import  now see questions successfully imported Moodle, along preview questions. Please report importation issues.","code":""},{"path":"http://emitanaka.org/moodlequiz/index.html","id":"creating-a-quiz","dir":"","previous_headings":"Importing questions into Moodle","what":"Creating a quiz","title":"R Markdown format for Moodle XML cloze quizzes","text":"Create quiz normally Moodle (instructions : https://docs.moodle.org/en/Building_Quiz) adding question, select “question bank” (“random question” random questions within categories).  question import dialogue: Select question category specified front matter (penguins) Sort questions alphabetically name clicking “Question” header table Select questions import via checkboxes table (select checkbox table header) Click “Add selected questions quiz”  questions now added quiz! 🎉  can now repaginate adjust quiz settings necessary.","code":""},{"path":"http://emitanaka.org/moodlequiz/reference/choices.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a set of choices for single or multiple choice questions — choices","title":"Create a set of choices for single or multiple choice questions — choices","text":"Create set choices single multiple choice questions","code":""},{"path":"http://emitanaka.org/moodlequiz/reference/choices.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a set of choices for single or multiple choice questions — choices","text":"","code":"choices(options, answer)"},{"path":"http://emitanaka.org/moodlequiz/reference/choices.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a set of choices for single or multiple choice questions — choices","text":"options character vector selectable choices answer character vector correct answers","code":""},{"path":"http://emitanaka.org/moodlequiz/reference/cloze_questions.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Cloze-Type Questions for Moodle — cloze_questions","title":"Generate Cloze-Type Questions for Moodle — cloze_questions","text":"functions create cloze-type questions Moodle quizzes, designed use inline R code chunks R Markdown document formatted moodlequiz::moodlequiz output format.","code":""},{"path":"http://emitanaka.org/moodlequiz/reference/cloze_questions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Cloze-Type Questions for Moodle — cloze_questions","text":"","code":"cloze_shortanswer(   options,   weight = max(options),   feedback = \"\",   case_sensitive = FALSE )  cloze_multichoice(   options,   weight = max(options),   feedback = \"\",   type = c(\"vertical\", \"horizontal\"),   shuffle = FALSE )  cloze_singlechoice(   options,   weight = max(options),   feedback = \"\",   type = c(\"dropdown\", \"vertical\", \"horizontal\"),   shuffle = FALSE )  cloze_numerical(answer, weight = 1, tolerance = 0, feedback = \"\")  cloze(x, ...)"},{"path":"http://emitanaka.org/moodlequiz/reference/cloze_questions.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Cloze-Type Questions for Moodle — cloze_questions","text":"options named vector answer options. single/multiple choice questions choices() helper function can help create vector. Names correspond answers, values specify weights (e.g., 100 correct answer partial weights partially correct answers). multiple-choice single-choice questions, includes correct distractor options. weight numeric value specifying weight question. Defaults highest weight options. feedback character vector providing feedback answers. case_sensitive Logical. cloze_shortanswer, whether answer case-sensitive. Defaults FALSE. type character string specifying presentation style options. cloze_multichoice, valid values \"vertical\" \"horizontal\". cloze_singlechoice, valid values \"dropdown\", \"vertical\", \"horizontal\". shuffle Logical. cloze_multichoice cloze_singlechoice, whether answer options shuffled. Defaults FALSE. answer numeric value specifying correct numerical answer(s). tolerance numeric value specifying acceptable range deviation cloze_numerical answers. Defaults 0. x cloze(), correct answer also determines question type (e.g. numeric use cloze_numerical() character use cloze_shortanswer() cloze_singlechoice()/cloze_multichoice() selectable options given second argument). ... Additional arguments passed cloze() methods (available options cloze_*() arguments).","code":""},{"path":"http://emitanaka.org/moodlequiz/reference/cloze_questions.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate Cloze-Type Questions for Moodle — cloze_questions","text":"character string containing Moodle-compatible XML inline text specified cloze question(s).","code":""},{"path":"http://emitanaka.org/moodlequiz/reference/cloze_questions.html","id":"functions","dir":"Reference","previous_headings":"","what":"Functions","title":"Generate Cloze-Type Questions for Moodle — cloze_questions","text":"cloze_shortanswer(): Creates short-answer question student provides text response. cloze_singlechoice(): Generates single-choice question students select one correct answer list. cloze_multichoice(): Creates multiple-choice question students can select one correct answers. cloze_numerical(): Generates numerical question students input numeric response optional tolerance. cloze(): Automatic question types based class answers.","code":""},{"path":"http://emitanaka.org/moodlequiz/reference/cloze_questions.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate Cloze-Type Questions for Moodle — cloze_questions","text":"","code":"# Short-answer question: Where is the best coffee? cloze_shortanswer(   options = c(\"Melbourne\" = 1),   case_sensitive = FALSE ) #> [1] \"`{1:SHORTANSWER:%100%Melbourne#}`{=html}\"  # Multiple-choice question: Select all lower-case answers cloze_multichoice(   options = c(\"a\" = 1, \"F\" = 0, \"g\" = 1, \"V\" = 0, \"K\" = 0),   type = \"vertical\" ) #> [1] \"`{1:MULTIRESPONSE:%100%a#~%0%F#~%100%g#~%0%V#~%0%K#}`{=html}\"  # Where is Melbourne? cloze_singlechoice(   choices(     c(\"New South Wales\", \"Victoria\", \"Queensland\", \"Western Australia\",       \"South Australia\", \"Tasmania\", \"Australian Capital Territory\",       \"Northern Territory\"),     \"Victoria\"   ),   type = \"dropdown\" ) #> [1] \"`{1:MULTICHOICE:%0%New South Wales#~%100%Victoria#~%0%Queensland#~%0%Western Australia#~%0%South Australia#~%0%Tasmania#~%0%Australian Capital Territory#~%0%Northern Territory#}`{=html}\"  # Numerical question: Pick a number between 1 and 10 cloze_numerical(   answer = 5.5,   tolerance = 4.5 ) #> [1] \"`{1:NUMERICAL:=5.500000:4.500000#}`{=html}\"  # Automatic cloze questions cloze(42) # Numerical #> [1] \"`{1:NUMERICAL:=42.000000:0.000000#}`{=html}\" cloze(\"Australia\") # Short answer #> [1] \"`{1:SHORTANSWER:%100%Australia#}`{=html}\" cloze(\"rep_len\", c(\"rep\", \"rep.int\", \"rep_len\", \"replicate\")) # Single choice #> [1] \"`{1:MULTICHOICE:%0%rep#~%0%rep.int#~%100%rep_len#~%0%replicate#}`{=html}\" cloze(c(\"A\", \"B\", \"C\"), LETTERS) # Multiple choice #> [1] \"`{1:MULTIRESPONSE:%100%A#~%100%B#~%100%C#~%0%D#~%0%E#~%0%F#~%0%G#~%0%H#~%0%I#~%0%J#~%0%K#~%0%L#~%0%M#~%0%N#~%0%O#~%0%P#~%0%Q#~%0%R#~%0%S#~%0%T#~%0%U#~%0%V#~%0%W#~%0%X#~%0%Y#~%0%Z#}`{=html}\""},{"path":"http://emitanaka.org/moodlequiz/reference/moodlequiz.html","id":null,"dir":"Reference","previous_headings":"","what":"R Markdown format for Moodle XML quizzes — moodlequiz","title":"R Markdown format for Moodle XML quizzes — moodlequiz","text":"Provides alternative interface working exams package producing Moodle questions type.","code":""},{"path":"http://emitanaka.org/moodlequiz/reference/moodlequiz.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"R Markdown format for Moodle XML quizzes — moodlequiz","text":"","code":"moodlequiz(   replicates = 1L,   self_contained = TRUE,   extra_dependencies = NULL,   theme = NULL,   includes = NULL,   lib_dir = NULL,   md_extensions = NULL,   pandoc_args = NULL,   ... )"},{"path":"http://emitanaka.org/moodlequiz/reference/moodlequiz.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"R Markdown format for Moodle XML quizzes — moodlequiz","text":"replicates number times questions rendered, useful producing multiple versions quiz different random samples. keep identify replicates questions random importation Moodle recommend organising materials categories using top level headers. self_contained Produce standalone HTML file external dependencies, using data: URIs incorporate contents linked scripts, stylesheets, images, videos. Note even self contained documents MathJax still loaded externally (necessary size). extra_dependencies Extra dependencies list html_dependency class objects typically generated htmltools:htmlDependency(). theme One following: bslib::bs_theme() object (list bslib::bs_theme() argument values) Use option custom themes using Bootstrap 4 3. case, .scss/.sass files provided css parameter may utilize theme's underlying Sass utilities (e.g., variables, mixins, etc). NULL theme (.e., html_dependency_bootstrap()). character string specifying Bootswatch 3 theme name (backwards-compatibility). includes Named list additional content include within document (typically created using includes function). lib_dir Directory copy dependent HTML libraries (e.g. jquery, bootstrap, etc.) . default name document _files appended . md_extensions Markdown extensions added removed default definition R Markdown. See rmarkdown_format additional details. pandoc_args Additional command line options pass pandoc ... Additional function arguments pass base R Markdown HTML output formatter html_document_base","code":""},{"path":"http://emitanaka.org/moodlequiz/reference/moodlequiz_xml.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Moodle Quiz XML Output for R Markdown — moodlequiz_xml","title":"Generate Moodle Quiz XML Output for R Markdown — moodlequiz_xml","text":"function intended internal generation XML output. strongly recommended use [moodlequiz::moodlequiz()] output format, provides higher-level interface creating Moodle-compatible quizzes.","code":""},{"path":"http://emitanaka.org/moodlequiz/reference/moodlequiz_xml.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Moodle Quiz XML Output for R Markdown — moodlequiz_xml","text":"","code":"moodlequiz_xml(   replicate = \"\",   self_contained = TRUE,   extra_dependencies = NULL,   theme = NULL,   includes = NULL,   lib_dir = NULL,   md_extensions = NULL,   pandoc_args = NULL,   ... )"},{"path":"http://emitanaka.org/moodlequiz/reference/moodlequiz_xml.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Moodle Quiz XML Output for R Markdown — moodlequiz_xml","text":"replicate character string specifying many replications quiz produced. self_contained Logical. TRUE, output document self-contained, embedding resources directly file. Defaults TRUE. extra_dependencies Additional dependencies include output. can specified html_dependency object list objects. theme character string specifying theme output. can standard theme name custom CSS file. includes Additional content include output. list named elements, in_header, before_body, after_body. lib_dir Directory copy library files output. NULL, library files copied. md_extensions character string specifying Markdown extensions passed Pandoc. pandoc_args Additional arguments pass Pandoc. ... Additional arguments passed bookdown::html_document2()","code":""},{"path":"http://emitanaka.org/moodlequiz/reference/moodlequiz_xml.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate Moodle Quiz XML Output for R Markdown — moodlequiz_xml","text":"R Markdown output format object.","code":""},{"path":[]},{"path":"http://emitanaka.org/moodlequiz/news/index.html","id":"moodlequiz-development-version","dir":"Changelog","previous_headings":"","what":"moodlequiz (development version)","title":"moodlequiz (development version)","text":"First major release.","code":""},{"path":"http://emitanaka.org/moodlequiz/news/index.html","id":"new-features-development-version","dir":"Changelog","previous_headings":"","what":"New features","title":"moodlequiz (development version)","text":"Added cloze() cloze_*() functionality. Added moodlequiz() output format R Markdown. Added choices() helper constructing graded vectors choices.","code":""}]
